# アダプタ
## 目的/概要
* アダプタは、必要なインターフェイスと既存のオブジェクトの間の違いを吸収するためにある。
* 不適切なインターフェイスを持つオブジェクトに困っていて、不適切なインターフェイスを扱う痛みがシステム中に広がることを防ぎたい場合に限り、アダプタを選ぶことが推奨されている。

## 構成
以下4つのもので構成されている。

* Client(利用者): ターゲットのメソッドを呼び出す側。変換された対象を扱う側。
* Target(対象): インターフェースを規定
* Adapter(アダプタ): アダプティのインターフェースを変換して、ターゲット向けのインターフェースを提供
* Adaptee(アダプティ): 実際に動作する既存のクラス。変換される対象。

## 注意点
* クラスを直接変更するかアダプタを使用するかの判断はそれぞれ以下の場合に決定する。
  * クラス: 対象のクラスの理解があり、変更が比較的少ない
  * アダプタ: 対象のクラスが複雑、完全な理解がない

## 具体例
* ActiveRecord
  * ActiveRecordはMySQL,Oracle,Postgresなどあらゆるデータベースシステムと対話しなければならない。よって、DBの違いすべてをカプセル化するAbstractAdapterという標準のインターフェイスを定義し、各DBに対応するAbstractAdapterのサブクラス内でDBのRuby APIに合わせた処理をすることで、同じインターフェイスでさまざまなDBを扱えるようにカプセル化している。